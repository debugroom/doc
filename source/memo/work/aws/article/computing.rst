.. include:: ../module.txt

.. _section4-computing-label:

Computing Category
======================================================

.. _section4-1-ec2-label:

Elastic Compute Cloud(EC2)
------------------------------------------------------

Elastic Compute Cloud(EC2)は仮想サーバサービスである。それぞれの仮想サーバを「インスタンス」と呼び、OS、CPUやメモリーといった性能、ストレージ、購入オプションを選択して、サービスを利用する。選択可能な可能なOSはAWSの `マーケットプレイス <https://aws.amazon.com/marketplace/b/2649367011>`_ から確認できる。

CPUやメモリ、ストレージといったリソースキャパシティを定義したものをインスタンスタイプと呼ぶ。インスタンスタイプはAmazonのインスタンス選択の `ガイドライン <https://aws.amazon.com/jp/ec2/instance-types/>`_ に沿って、選択するとよい。インスタンスタイプにはカテゴリがあり、それぞれ以下のようなアプリケーション特性に従い、インスタンスタイプを選択する。

.. list-table:: インスタンスタイプ
   :widths: 2, 3, 5 

   * - インスタンスタイプ
     - 種別
     - 用途

   * - T2
     - 汎用
     - 最も低コスト。開発環境や小規模なデータベース
   * - M3
     - 汎用
     - バランス型。小規模及び中規模データベース、 |br| キャッシュ、SAP、MicrosoftSharePoint、 |br| その他企業アプリケーション
   * - M4
     - 汎用
     - M3と同様のバランス型だが、最新世代の |br| 汎用インスタンスを利用
   * - C3
     - コンピューティング最適化
     - 高速なプロセッサを使用。高パフォーマンスの |br| フロントエンド群、バッチ処理、分散分析、 |br| 高パフォーマンスな科学・工学への応用 |br| 濃くサービス、MMOゲーム、ビデオエンコーディング
   * - C4
     - コンピューティング最適化
     - C3と同様のハイパフォーマンス型だが、 |br| 最新世代インスタンスを利用。
   * - X1
     - メモリ最適化
     - RAM1GiBの料金が最も低コスト。インメモリ |br| データベース、ビッグデータ処理エンジン、 |br| ハイパフォーマンスコンピューティング(HPC)
   * - R3
     - メモリ最適化
     - RAM1GiBの料金が安価。ハイパフォーマンス |br| データベース。分散型メモリキャッシュ、 |br| インメモリ分析、その他エンタープライズ |br| アプリケーション
   * - G2
     - GPU最適化
     - グラフィック向け。3Dアプリケーション |br| ストリーミング、 機械学習、|br| 動画エンコーディング
   * - I2
     - ストレージ最適化
     - 高速ランダムIOパフォーマンス最適化。 |br| NoSQLデータベース、トランザクションデータベース |br| データウェアハウス、Hadoop |br| クラスターファイルシステム
   * - D2
     - ストレージ最適化
     - 最も低コストでディスクを提供。超並列処理 |br| (MPP)、データウェアハウス、 |br| MapReduceとHadoop分散処理、 |br| 分散ファイルシステム

ストレージはEC2にアタッチされるElastic Block Store(EBS)というブロックレベルのストレージボリュームで、以下の通り3種類を選択できる。

.. list-table:: EBSの種類
   :widths: 3, 2, 2, 3 

   * - 種類
     - 費用
     - IOPS
     - 用途

   * - マグネティックボリューム
     - 安い
     - 低
     - アクセス頻度が低いシステム
   * - 汎用ボリューム
     - 普通
     - 中
     - 汎用
   * - プロビジョンドIOPSボリューム
     - 高い
     - 高
     - アクセス頻度が高いシステム

購入オプションは、

* オンデマンドインスタンス
* リザーブドインスタンス
* スポットインスタンス

の3種類を選択できる。オンデマンドインスタンスは時間単位の固定単価で料金が計算され、使った時間分だけ料金が発生する。AWS管理コンソールからEC2インスタンスを起動した場合は、オンデマンドインスタンスになる。リザーブドインスタンスは予約期間1年か3年かの長期オプションを選択できる代わりに、最大75%のディスカウントが得られる。スポットインスタンスは入札の様な仕組みで提供されるインスタンスで、時間単位の料金が発生するという点においては、オンデマンドインスタンスと同じだが、固定単価でなく、利用者が最大時間料金を入札形式で指定し、最大額で落札できた場合利用可能である。
